[{"content":"å®‰è£…æœ€æ–°çš„Go1.18ç‰ˆæœ¬ï¼Œå®ƒä¸ºä½ æä¾›äº†å·¥ä½œåŒºæ¨¡å¼ï¼Œå¸®åŠ©ä½ è½»æ¾ä¾èµ–æœ¬åœ°ç±»åº“ã€‚\nä¾‹å¦‚ï¼Œä½ å¼€å‘ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œåˆ†äº†ä¸¤ä¸ª go moduleï¼Œåˆ†åˆ«ä¸º service-a å’Œ service-bï¼Œservice-a ä¾èµ–äº†service-b ï¼Œç°åœ¨é¡¹ç›®è¿˜å¤„äºå¼€å‘é˜¶æ®µï¼Œæˆ‘ä»¬éƒ½æ˜¯è¿™ä¹ˆå¤„ç†çš„ã€‚\nåˆ›å»ºé¡¹ç›®ç›®å½•ï¼š\nmkdir service cd service åˆ›å»º service-b æ¨¡å—:\nmkdir service-b cd service-b go mod init github.com/srcio/service-b ç¼–å†™ service-b æ¨¡å—ä»£ç ï¼š\nmkdir greeting vim greeting/hello.go package greeting import \u0026#34;fmt\u0026#34; func Hello(name string){ fmt.Println(\u0026#34;Hello, \u0026#34; + name) } ç»§ç»­åˆ›å»º service-a æ¨¡å—ï¼š\ncd .. mkdir service-a cd service-a go mod init github.com/srcio/service-a å› ä¸º service-a éœ€è¦ä¾èµ–æœ¬åœ°å¼€å‘çš„ service-b ç±»åº“ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ go.mod ä¸­å¼•å…¥ service-a ï¼š\nvim go.mod module github.com/srcio/service-a go 1.18 require( github.com/srcio/service-b v1.0.0 ) replace( github.com/srcio/service-a v1.0.0 =\u0026gt; ../service-b ) ç„¶åï¼Œç¼–å†™ä¸»å‡½æ•°ä»£ç ï¼š\nvim main.go package main import( \u0026#34;github.com/srcio/service-b/greeting\u0026#34; ) func main(){ greeting.Hello() } åœ¨ä¸Šè¿°çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ ä¼šå‘ç°ï¼Œæˆ‘ä»¬å¼•ç”¨äº†æœ¬åœ°çš„ä»£ç ç±»åº“ github.com/srcio/service-b v1.0.0 =\u0026gt; ../service-bã€‚è€Œä¸”ï¼Œå¦‚æœæ­¤æ—¶åˆ«çš„å¼€å‘è€…å’Œä½ ä¸€èµ·åä½œå¼€å‘ service-a moduleçš„æ—¶å€™ï¼Œä»–æ˜¯æ— æ³•å¼•ç”¨åˆ°è¿™ä¸ªç±»åº“çš„ï¼ˆé™¤éä»–æœ¬åœ°ä¹ŸåŒæ­¥äº†../service-bï¼‰ã€‚\nç°åœ¨ä½ å°±å¯ä»¥é€šè¿‡ go work æ¥è§£å†³è¿™ç§çƒ¦æ¼äº†ã€‚\né¦–å…ˆï¼Œä½ è¦åšçš„æ˜¯å›åˆ°moduleçš„å¤–é¢ï¼Œç„¶åæ‰§è¡Œ go work init å‘½ä»¤ï¼š\ncd .. go work init service-a go work init service-b æ­¤æ—¶ï¼Œä½ ä¼šå‘ç°ï¼Œç›®å½•ä¸‹å¤šäº†ä¸ªgo.workæ–‡ä»¶ï¼ŒæŸ¥çœ‹è¯¥æ–‡ä»¶å†…å®¹ï¼š\n$ cat go.work go 1.18 use( ./service-a ./service-b ) module ä¾èµ–çš„ç±»åº“ç›®å½•å°±åœ¨ use å—ä¸­ï¼Œæ­¤æ—¶ï¼Œä½ å¯ä»¥åˆ é™¤ service-aç›®å½•ä¸‹ go.mod ä¸­çš„ replace å—ï¼Œç„¶åè¿è¡Œ main å‡½æ•°äº†ï¼š\ncd service-a \u0026amp;\u0026amp; go run main.go # æˆ–è€…ä½ å¯ä»¥ç›´æ¥åœ¨å·¥ä½œåŒºç›®å½•è¿è¡Œ go run service-a/main.go å¦‚æœä½ çš„ä¸»é¡¹ç›®ä¾èµ–å¤šä¸ªæœ¬åœ°ç±»åº“ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ·»åŠ \ngo work use service-c go work use service-d æœ€åï¼Œä½ å¯ä»¥é€šè¿‡ go help workï¼Œäº†è§£æ›´å¤šã€‚\n","permalink":"https://blog.srcio.cn/series/programming-go/go-work/","summary":"å®‰è£…æœ€æ–°çš„Go1.18ç‰ˆæœ¬ï¼Œå®ƒä¸ºä½ æä¾›äº†å·¥ä½œåŒºæ¨¡å¼ï¼Œå¸®åŠ©ä½ è½»æ¾ä¾èµ–æœ¬åœ°ç±»åº“ã€‚\nä¾‹å¦‚ï¼Œä½ å¼€å‘ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œåˆ†äº†ä¸¤ä¸ª go moduleï¼Œåˆ†åˆ«ä¸º service-a å’Œ service-bï¼Œservice-a ä¾èµ–äº†service-b ï¼Œç°åœ¨é¡¹ç›®è¿˜å¤„äºå¼€å‘é˜¶æ®µï¼Œæˆ‘ä»¬éƒ½æ˜¯è¿™ä¹ˆå¤„ç†çš„ã€‚\nåˆ›å»ºé¡¹ç›®ç›®å½•ï¼š\nmkdir service cd service åˆ›å»º service-b æ¨¡å—:\nmkdir service-b cd service-b go mod init github.com/srcio/service-b ç¼–å†™ service-b æ¨¡å—ä»£ç ï¼š\nmkdir greeting vim greeting/hello.go package greeting import \u0026#34;fmt\u0026#34; func Hello(name string){ fmt.Println(\u0026#34;Hello, \u0026#34; + name) } ç»§ç»­åˆ›å»º service-a æ¨¡å—ï¼š\ncd .. mkdir service-a cd service-a go mod init github.com/srcio/service-a å› ä¸º service-a éœ€è¦ä¾èµ–æœ¬åœ°å¼€å‘çš„ service-b ç±»åº“ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ go.mod ä¸­å¼•å…¥ service-a ï¼š\nvim go.mod module github.com/srcio/service-a go 1.","title":"Go1.18 - å·¥ä½œåŒºæ¨¡å¼"},{"content":"Giscus  å¼€æºã€æ— å¹¿å‘Šã€æ°¸ä¹…å…è´¹ æ”¯æŒå¤šè¯­è¨€ æ”¯æŒè¡¨æƒ…åé¦ˆ æ”¯æŒæ‡’åŠ è½½  å¿…è¦æ¡ä»¶  ä½ çš„åšå®¢æ‰€ç”¨çš„ GitHub çš„ä»“åº“å¿…é¡»æ˜¯ Publicï¼Œå¹¶ä¸”å¼€é€šäº† Dicussion åŠŸèƒ½ï¼› å®‰è£… giscus.appï¼Œå®‰è£…çš„æ—¶å€™ï¼Œåˆ†é…ä½ çš„åšå®¢æ‰€ç”¨çš„ GitHub ä»“åº“å³å¯ã€‚   å½“ç„¶ï¼Œå¦‚æœä½ çš„åšå®¢æ²¡æœ‰æ‰˜ç®¡åœ¨ Github ä¸Šï¼Œä½ ä¹Ÿå¯ä»¥å•ç‹¬åˆ›å»ºä¸€ä¸ª Github ä»“åº“ä½œä¸ºå¼€é€š giscus è¯„è®ºã€‚\n ä½¿ç”¨å§¿åŠ¿  åœ¨ giscus.app åšè‡ªå®šä¹‰é…ç½®ï¼Œå¡«å…¥ä½ çš„ä»“åº“åç§°ï¼Œé€‰æ‹©ä¸»é¢˜ç­‰ï¼ŒGiscus ä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆ javascript è„šæœ¬ï¼› Hugo åšå®¢ç›®å½•ä¸‹ï¼Œåˆ›å»º layouts/partials/comments.html æ–‡ä»¶ï¼Œå†™å…¥è·å–çš„è„šæœ¬ï¼š  \u0026lt;script src=\u0026#34;https://giscus.app/client.js\u0026#34; data-repo=\u0026#34;[åœ¨æ­¤è¾“å…¥ä»“åº“]\u0026#34; data-repo-id=\u0026#34;[åœ¨æ­¤è¾“å…¥ä»“åº“ ID]\u0026#34; data-category=\u0026#34;[åœ¨æ­¤è¾“å…¥åˆ†ç±»å]\u0026#34; data-category-id=\u0026#34;[åœ¨æ­¤è¾“å…¥åˆ†ç±» ID]\u0026#34; data-mapping=\u0026#34;pathname\u0026#34; data-strict=\u0026#34;0\u0026#34; data-reactions-enabled=\u0026#34;1\u0026#34; data-emit-metadata=\u0026#34;0\u0026#34; data-input-position=\u0026#34;bottom\u0026#34; data-theme=\u0026#34;light\u0026#34; data-lang=\u0026#34;zh-CN\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; async\u0026gt; \u0026lt;/script\u0026gt;  âš ï¸æ³¨æ„ï¼šä¸ºäº†ä½¿ä¸‹é¢çš„ javascript è„šæœ¬ç”Ÿæ•ˆï¼Œdata-theme é€‰æ‹© lightï¼›æˆ–è€…ä½ å¯ä»¥æ ¹æ®ä½ é€‰æ‹©çš„ä¸»é¢˜ä¿®æ”¹ä¸‹é¢çš„ javascript è„šæœ¬ã€‚\n è‡ªåŠ¨ä¸»é¢˜  ä½¿ç”¨ä¸€ä¸ª div ä½œä¸ºè¯„è®ºåŒºåŸŸçš„å®¹å™¨  \u0026lt;div class=\u0026#34;giscus_comments\u0026#34;\u0026gt; {{- partial \u0026#34;comments.html\u0026#34; . }} \u0026lt;/div\u0026gt; åœ¨è¯¥å®¹å™¨ä¸‹æ–¹å†™å…¥ä¸»é¢˜è‡ªåŠ¨åˆ‡æ¢çš„è¯­å¥  \u0026lt;script\u0026gt; document.querySelector(\u0026#34;div.giscus_comments \u0026gt; script\u0026#34;) .setAttribute( \u0026#34;data-theme\u0026#34;, localStorage.getItem(\u0026#34;pref-theme\u0026#34;) ? localStorage.getItem(\u0026#34;pref-theme\u0026#34;) : window.matchMedia(\u0026#34;(prefers-color-scheme: dark)\u0026#34;).matches ? \u0026#34;dark\u0026#34; : \u0026#34;light\u0026#34;), document.querySelector(\u0026#34;#theme-toggle\u0026#34;).addEventListener(\u0026#34;click\u0026#34;, () =\u0026gt; { let e = document.querySelector(\u0026#34;iframe.giscus-frame\u0026#34;); e \u0026amp;\u0026amp; e.contentWindow.postMessage({ giscus: { setConfig: { theme: localStorage.getItem(\u0026#34;pref-theme\u0026#34;) ? localStorage.getItem(\u0026#34;pref-theme\u0026#34;) === \u0026#34;dark\u0026#34; ? \u0026#34;light\u0026#34; : \u0026#34;dark\u0026#34; : document.body.className.includes(\u0026#34;dark\u0026#34;) ? \u0026#34;light\u0026#34; : \u0026#34;dark\u0026#34; } } }, \u0026#34;https://giscus.app\u0026#34;) }) \u0026lt;/script\u0026gt; ğŸ”— é“¾æ¥   åº”ç”¨ï¼šhttps://github.com/apps/giscus\n  æºç ï¼šhttps://github.com/giscus/giscus\n  ä½¿ç”¨ï¼šhttps://giscus.app/\n  ","permalink":"https://blog.srcio.cn/posts/use-giscus/","summary":"Giscus  å¼€æºã€æ— å¹¿å‘Šã€æ°¸ä¹…å…è´¹ æ”¯æŒå¤šè¯­è¨€ æ”¯æŒè¡¨æƒ…åé¦ˆ æ”¯æŒæ‡’åŠ è½½  å¿…è¦æ¡ä»¶  ä½ çš„åšå®¢æ‰€ç”¨çš„ GitHub çš„ä»“åº“å¿…é¡»æ˜¯ Publicï¼Œå¹¶ä¸”å¼€é€šäº† Dicussion åŠŸèƒ½ï¼› å®‰è£… giscus.appï¼Œå®‰è£…çš„æ—¶å€™ï¼Œåˆ†é…ä½ çš„åšå®¢æ‰€ç”¨çš„ GitHub ä»“åº“å³å¯ã€‚   å½“ç„¶ï¼Œå¦‚æœä½ çš„åšå®¢æ²¡æœ‰æ‰˜ç®¡åœ¨ Github ä¸Šï¼Œä½ ä¹Ÿå¯ä»¥å•ç‹¬åˆ›å»ºä¸€ä¸ª Github ä»“åº“ä½œä¸ºå¼€é€š giscus è¯„è®ºã€‚\n ä½¿ç”¨å§¿åŠ¿  åœ¨ giscus.app åšè‡ªå®šä¹‰é…ç½®ï¼Œå¡«å…¥ä½ çš„ä»“åº“åç§°ï¼Œé€‰æ‹©ä¸»é¢˜ç­‰ï¼ŒGiscus ä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆ javascript è„šæœ¬ï¼› Hugo åšå®¢ç›®å½•ä¸‹ï¼Œåˆ›å»º layouts/partials/comments.html æ–‡ä»¶ï¼Œå†™å…¥è·å–çš„è„šæœ¬ï¼š  \u0026lt;script src=\u0026#34;https://giscus.app/client.js\u0026#34; data-repo=\u0026#34;[åœ¨æ­¤è¾“å…¥ä»“åº“]\u0026#34; data-repo-id=\u0026#34;[åœ¨æ­¤è¾“å…¥ä»“åº“ ID]\u0026#34; data-category=\u0026#34;[åœ¨æ­¤è¾“å…¥åˆ†ç±»å]\u0026#34; data-category-id=\u0026#34;[åœ¨æ­¤è¾“å…¥åˆ†ç±» ID]\u0026#34; data-mapping=\u0026#34;pathname\u0026#34; data-strict=\u0026#34;0\u0026#34; data-reactions-enabled=\u0026#34;1\u0026#34; data-emit-metadata=\u0026#34;0\u0026#34; data-input-position=\u0026#34;bottom\u0026#34; data-theme=\u0026#34;light\u0026#34; data-lang=\u0026#34;zh-CN\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; async\u0026gt; \u0026lt;/script\u0026gt;  âš ï¸æ³¨æ„ï¼šä¸ºäº†ä½¿ä¸‹é¢çš„ javascript è„šæœ¬ç”Ÿæ•ˆï¼Œdata-theme é€‰æ‹© lightï¼›æˆ–è€…ä½ å¯ä»¥æ ¹æ®ä½ é€‰æ‹©çš„ä¸»é¢˜ä¿®æ”¹ä¸‹é¢çš„ javascript è„šæœ¬ã€‚\n è‡ªåŠ¨ä¸»é¢˜  ä½¿ç”¨ä¸€ä¸ª div ä½œä¸ºè¯„è®ºåŒºåŸŸçš„å®¹å™¨  \u0026lt;div class=\u0026#34;giscus_comments\u0026#34;\u0026gt; {{- partial \u0026#34;comments.","title":"ä½¿ç”¨ Giscus ä½œä¸ºåšå®¢è¯„è®ºç³»ç»Ÿ"}]